<h2>PDepend Metrics</h2>

<form role="form" ng-controller="Metrics/Selector">
    <div class="form-group">
        <select class="form-control" ng-model="metric" ng-change="change()">
            <option ng-repeat="(id, name) in metrics" value="{{id}}" ng-selected="metric == id">{{name}}</option>
        </select>
    </div>
</form>

<tabset>
    <tab heading="Cloud">
        <ul class="tagcloud">
            <li data-ng-repeat="artifact in artifacts.metrics" style="font-size: {{artifact.value / artifacts.top.value * 80 + 20 | number:2}}%;">
                <a href="#/source/{{artifact.file}}#L{{artifact.line}}" title="{{metrics[metric]}}: {{artifact.value | number:2}}">{{artifact.label}}</a>
            </li>
        </ul>
    </tab>
    <tab heading="Table">
        <div ng-controller="Metrics/Table">
            <table class="table table-condensed table-hover table-striped">
                <thead>
                    <tr>
                        <th width="80%">
                            <a ng-click="setSorting('label', !ascending)">Name</a>
                        </th>
                        <th>
                            <a ng-click="setSorting('value', !ascending)">{{metrics[metric]}}</a>
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <tr data-ng-repeat="artifact in selection">
                        <td>
                            <a href="#/source/{{artifact.file}}#L{{artifact.line}}">{{artifact.label}}</a>
                        </td>
                        <td>{{artifact.value | number:2}}</td>
                    </tr>
                </tbody>
            </table>

            <ul class="pagination pagination-sm">
                <li ng-repeat="page in pages" ng-class="{active: page.active, disabled: page.disabled}">
                    <a ng-click="setPage(page.number)">{{page.text}}</a>
                </li>
            </ul>
        </div>
    </tab>
</tabset>
